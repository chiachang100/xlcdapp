// Copyright 2021, the Flutter project authors. Please see the AUTHORS file
// for details. All rights reserved. Use of this source code is governed by a
// BSD-style license that can be found in the LICENSE file.

import 'scripture.dart';
import 'joy.dart';

final libraryInstance = Library()
  ..addJoy(
    title: '愛的激勵',
    scriptureName: '哥林多後書 5:14',
    scriptureVerse: '原來基督的愛激勵我們，因我們想：一人既替眾人死，眾人就都死了；',
    prelude: '  我們都需要推動力來激勵我們作好人或行善事。基本上有兩種推動力,即正面和負面的推動力。'
        '有一些人需要正面的推動力,有一些人或動物卻需要負面的推動力,他們才會被激發去做他們該做的事。',
    laugh: '  老張在他生日時,收到好朋友送給他一隻會說話的鸚鵡,但這隻鸚鵡的態度很差，滿口都是髒話，不是罵人的話，就是一些粗話。'
        '老張很努力地改變牠的態度,不斷地和牠說些有禮貌的話,放輕柔的音樂給牠聽,反正他想到能夠做的事部做了,但都沒什麼用。'
        '\n  於是老張對鸚鵡開始吼叫起來，牠也吼了回去，他又用力搖晃鸚鵡，結果只會讓牠更生氣，而且變得更粗魯。'
        '終於在忍無可忍的憤怒之下,他把鸚鵡送進了冷凍櫃中,聽到牠粗聲大叫,到處亂踢,還尖叫了起來,卻立刻就安靜下來,一分半鐘之內,他沒有再聽到半點聲音。'
        '\n  老張被嚇著了,說：「糟糕,我害死了牠！」便馬上打開冷凍櫃的門。'
        '\n  只見鸚鵡冷靜地走出來，踏上老張伸出來的手背，說道：「相信我粗魯的言談和行為必定冒犯了您,我會努力改進我的行為,我真的很抱歉,希望您能夠原諒我。」'
        '\n  老張對鸚鵡態度的轉變很是驚訝!正想要問這樣戲劇性的變化是什麼原因,牠又接著說道:「我可以問一下,裡面那隻被扒光毛的鳥做錯了什麼事嗎?」',
    photoUrl: 'assets/photos/xlcdapp_photo_1.png',
    talk: '  要珍惜別人善意的勸勉,尤其是出於愛的勸告。出於愛的推動力是可以幫助我們,在艱難的環境中持續做正確的事情。'
        '\n  使徒保羅因為明白和經歷基督耶穌的愛,使他在諸多的逼迫和困難中,忠心心完成耶穌給他的託付。'
        '他說原來基督的愛就好像一股力量在背後不停地推著他,因為我們知道耶穌既然為眾人死了,眾人就都死了。'
        '祂為我們眾人死,叫我們這些還活著的人不再為自己活,乃是為替我們死而復活的主而活。'
        '\n  愛是最強而有力的推動力。',
    votes: 10,
    type: 1,
    isLike: true,
    isNew: false,
  )
  ..addJoy(
    title: '勝過恐懼',
    scriptureName: '詩篇 23:4',
    scriptureVerse: '我雖然行過死蔭的幽谷，也不怕遭害，因為你與我同在，你的杖、你的竿都安慰我。',
    prelude: '  恐懼對我們並不陌生。...',
    laugh: '  時事雜誌的主持人芭芭拉.華特斯(Barbara Walters), ...',
    photoUrl: 'assets/photos/xlcdapp_photo_2.png',
    talk: '  是的,恐懼會促使你做各樣的措施來保護自己。...',
    votes: 9,
    type: 1,
    isLike: true,
    isNew: false,
  )
  ..addJoy(
    title: '彼此饒恕',
    scriptureName: '歌羅西書 3:13',
    scriptureVerse: '倘若這人與那人有嫌隙，總要彼此包容，彼此饒恕；主怎樣饒恕了你們，你們也要怎樣饒恕人。',
    prelude: '  饒恕別人的過犯是一種美德,...',
    laugh: '  小美一直以來都不喜歡...',
    photoUrl: 'assets/photos/xlcdapp_photo_3.png',
    talk: '  饒恕乃是一個決定,...',
    votes: 8,
    type: 1,
    isLike: true,
    isNew: false,
  )
  ..addJoy(
    title: '先去掉眼中樑木',
    scriptureName: '馬太福音 7:4',
    scriptureVerse: '你自己眼中有梁木，怎能對你弟兄說『容我去掉你眼中的刺』呢？',
    prelude: '  每一個人都有優點,也有缺點。...',
    laugh: '  老王擔心他太太的聽覺有問題,可能需要帶耳機,他不知如何開口,就問他的醫生。...',
    photoUrl: 'assets/photos/xlcdapp_photo_4.png',
    talk: '  當我們承認自己不是十分完美時,我們就會以不同的眼光去看待周圍的人。...',
    votes: 6,
    type: 1,
    isLike: false,
    isNew: true,
  )
  ..addJoy(
    title: '分享的喜樂',
    scriptureName: '路加福音 3:11',
    scriptureVerse: '約翰回答說：「有兩件衣裳的，就分給那沒有的，有食物的也當這樣行。」',
    prelude: '  分享的喜樂是雙倍的喜樂。...',
    laugh: '  有一天,有一位老先生買了一個漢堡,薯條和一杯飲料。...',
    photoUrl: 'assets/photos/xlcdapp_photo_5.png',
    talk: '  若是人人都有一顆與他人分享好東西的心,這世界肯定會更加溫暖。...',
    votes: 1,
    type: 1,
    isLike: false,
    isNew: true,
  );

class Library {
  final List<Joy> allJoys = [];
  final List<Scripture> allScriptures = [];

  void addJoy({
    required String title,
    required String scriptureName,
    required String scriptureVerse,
    required String prelude,
    required String laugh,
    required String photoUrl,
    required String talk,
    required int votes,
    required int type,
    required bool isLike,
    required bool isNew,
  }) {
    var scripture = allScriptures.firstWhere(
      (scripture) => scripture.name == scriptureName,
      orElse: () {
        final value =
            Scripture(allScriptures.length, scriptureName, scriptureVerse);
        allScriptures.add(value);
        return value;
      },
    );
    var joy = Joy(
      allJoys.length,
      title,
      prelude,
      laugh,
      photoUrl,
      talk,
      votes,
      type,
      isLike,
      isNew,
      scripture,
    );

    scripture.joys.add(joy);
    allJoys.add(joy);
  }

  Joy getJoy(String id) {
    return allJoys[int.parse(id)];
  }

  List<Joy> get likeJoys => [
        ...allJoys.where((joy) => joy.isLike),
      ];

  List<Joy> get newJoys => [
        ...allJoys.where((joy) => joy.isNew),
      ];
}
